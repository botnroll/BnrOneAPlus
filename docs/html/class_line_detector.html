<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: LineDetector Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">My Project
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('class_line_detector.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="class_line_detector-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">LineDetector Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="_line_detector_8h_source.html">LineDetector.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a39b34cdd80ad5d706b276bdf0b50c744" id="r_a39b34cdd80ad5d706b276bdf0b50c744"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a39b34cdd80ad5d706b276bdf0b50c744">LineDetector</a> ()</td></tr>
<tr class="separator:a39b34cdd80ad5d706b276bdf0b50c744"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f6ea080180b793ae9ac6ccedb7365dd" id="r_a7f6ea080180b793ae9ac6ccedb7365dd"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7f6ea080180b793ae9ac6ccedb7365dd">ComputeLine</a> (int readings[8])</td></tr>
<tr class="memdesc:a7f6ea080180b793ae9ac6ccedb7365dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Given an input as a set of sensors readings it computes a relative location of a line along the length of the sensor and expresses the output in a range [-100, 100] where 0 (zero) corresponds to the line being at the centre of the sensor.  <br /></td></tr>
<tr class="separator:a7f6ea080180b793ae9ac6ccedb7365dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aecedf6cd2b88c1da2d94595cab1ea22b" id="r_aecedf6cd2b88c1da2d94595cab1ea22b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aecedf6cd2b88c1da2d94595cab1ea22b">LoadConfig</a> ()</td></tr>
<tr class="memdesc:aecedf6cd2b88c1da2d94595cab1ea22b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Loads values from config and calculates the corresponding scaling factors.  <br /></td></tr>
<tr class="separator:aecedf6cd2b88c1da2d94595cab1ea22b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd690650f7c91bec033b43e8910c8119" id="r_acd690650f7c91bec033b43e8910c8119"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acd690650f7c91bec033b43e8910c8119">SetConfig</a> (const <a class="el" href="class_config.html">Config</a> &amp;configIn)</td></tr>
<tr class="memdesc:acd690650f7c91bec033b43e8910c8119"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the config by providing it as input.  <br /></td></tr>
<tr class="separator:acd690650f7c91bec033b43e8910c8119"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:affe740a6e3814d983094d42b0c689e88" id="r_affe740a6e3814d983094d42b0c689e88"><td class="memItemLeft" align="right" valign="top">int *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#affe740a6e3814d983094d42b0c689e88">NormaliseReadings</a> (const int sensorReading[8]) const</td></tr>
<tr class="memdesc:affe740a6e3814d983094d42b0c689e88"><td class="mdescLeft">&#160;</td><td class="mdescRight">Normalize values for each sensor reading.  <br /></td></tr>
<tr class="separator:affe740a6e3814d983094d42b0c689e88"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:aa3fef0ae396112d2d2e567734cf8ab1a" id="r_aa3fef0ae396112d2d2e567734cf8ab1a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa3fef0ae396112d2d2e567734cf8ab1a">Normalise</a> (const int reading, const int minimum, const float scale) const</td></tr>
<tr class="memdesc:aa3fef0ae396112d2d2e567734cf8ab1a"><td class="mdescLeft">&#160;</td><td class="mdescRight">normalise a reading taking the minimum value of the range and a scale factor  <br /></td></tr>
<tr class="separator:aa3fef0ae396112d2d2e567734cf8ab1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a174bc6de6d72526639c6d9d13a693cf6" id="r_a174bc6de6d72526639c6d9d13a693cf6"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a174bc6de6d72526639c6d9d13a693cf6">CalculateFactor</a> (const int ref, const int min, const int max) const</td></tr>
<tr class="memdesc:a174bc6de6d72526639c6d9d13a693cf6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates the scaling factor given a reference value and a range defined by min and max values This scaling factor is useful in normalising values.  <br /></td></tr>
<tr class="separator:a174bc6de6d72526639c6d9d13a693cf6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac367b704276b9a53d1812b2a5fbc93b4" id="r_ac367b704276b9a53d1812b2a5fbc93b4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac367b704276b9a53d1812b2a5fbc93b4">CalculateScalingFactors</a> ()</td></tr>
<tr class="memdesc:ac367b704276b9a53d1812b2a5fbc93b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates and stores the scaling factors (in _scalingFactors)  <br /></td></tr>
<tr class="separator:ac367b704276b9a53d1812b2a5fbc93b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac576a77b66a3d994673c31ee856514c1" id="r_ac576a77b66a3d994673c31ee856514c1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac576a77b66a3d994673c31ee856514c1">LoadIfNecessary</a> ()</td></tr>
<tr class="memdesc:ac576a77b66a3d994673c31ee856514c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Loads values from config if NOT loaded before.  <br /></td></tr>
<tr class="separator:ac576a77b66a3d994673c31ee856514c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad490812b0ab71af6e039081fff3a512b" id="r_ad490812b0ab71af6e039081fff3a512b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad490812b0ab71af6e039081fff3a512b">GetMaxFromArray</a> (const int inputArray[8]) const</td></tr>
<tr class="memdesc:ad490812b0ab71af6e039081fff3a512b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the Max From Array.  <br /></td></tr>
<tr class="separator:ad490812b0ab71af6e039081fff3a512b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d530960d9251cd12fffc79b4bd2fa5d" id="r_a8d530960d9251cd12fffc79b4bd2fa5d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8d530960d9251cd12fffc79b4bd2fa5d">ComputeLineValue</a> (const int readings[8]) const</td></tr>
<tr class="memdesc:a8d530960d9251cd12fffc79b4bd2fa5d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes a line value in the range [0, ref_max].  <br /></td></tr>
<tr class="separator:a8d530960d9251cd12fffc79b4bd2fa5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a681c17fc737528ff65690683f92ead12" id="r_a681c17fc737528ff65690683f92ead12"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a681c17fc737528ff65690683f92ead12">CapValue</a> (const int value, const int lowerLimit, const int upperLimit) const</td></tr>
<tr class="memdesc:a681c17fc737528ff65690683f92ead12"><td class="mdescLeft">&#160;</td><td class="mdescRight">Caps the value to lower and upper limits.  <br /></td></tr>
<tr class="separator:a681c17fc737528ff65690683f92ead12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a349923b55f7f56b7213b06fb9d728cdc" id="r_a349923b55f7f56b7213b06fb9d728cdc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a349923b55f7f56b7213b06fb9d728cdc">ConvertRange</a> (const int xValue, const int xMin, const int xMax, const int yMin, const int yMax) const</td></tr>
<tr class="memdesc:a349923b55f7f56b7213b06fb9d728cdc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts a value x given in the range [xMin : xMax] to a new value in the range [yMin : yMax].  <br /></td></tr>
<tr class="separator:a349923b55f7f56b7213b06fb9d728cdc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb948ea2f7042dfaaf50d7cb804f37d5" id="r_afb948ea2f7042dfaaf50d7cb804f37d5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afb948ea2f7042dfaaf50d7cb804f37d5">NormaliseLineValue</a> (const int lineValue, const int size) const</td></tr>
<tr class="memdesc:afb948ea2f7042dfaaf50d7cb804f37d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts a line value in the range of [0, 8000] to a new range e.g. [-106, 106] This method involves two steps: 1) Converting the value in the range of [0, 8000] to a new range using a correction factor e.g. for a correction factor of 6% the new range is [-106, 106] The new range extends beyond 100 by a little margin specified by the correction factor in the config. The purpose of this is to enable adjusting the sensitivity of the readings near the extremities. For a sensor that is typically higher (away from the floor) this correction factor should be higher to prevent large jumps in the readings close to the extremities. By increasing the correction factor we are narrowing the sensitivity of the sensors and by reducing it we are extending the sensitivity out. There is a balance to achieve by tuning this value correctly in order to get the best of both worlds:  <br /></td></tr>
<tr class="separator:afb948ea2f7042dfaaf50d7cb804f37d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8afa1971a787fd196678c0705defee72" id="r_a8afa1971a787fd196678c0705defee72"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8afa1971a787fd196678c0705defee72">FilterLineValue</a> (const int lineValue_in, const int refValue, const int maxValue)</td></tr>
<tr class="memdesc:a8afa1971a787fd196678c0705defee72"><td class="mdescLeft">&#160;</td><td class="mdescRight">Filters the line value to handle edge cases such as no line detected or reading errors.  <br /></td></tr>
<tr class="separator:a8afa1971a787fd196678c0705defee72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a016d14edf3b8a513c6e3b976ba2f54da" id="r_a016d14edf3b8a513c6e3b976ba2f54da"><td class="memItemLeft" align="right" valign="top">long int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a016d14edf3b8a513c6e3b976ba2f54da">Sum</a> (const long int reading[8]) const</td></tr>
<tr class="memdesc:a016d14edf3b8a513c6e3b976ba2f54da"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes the sum of all the values in the input array.  <br /></td></tr>
<tr class="separator:a016d14edf3b8a513c6e3b976ba2f54da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf6cba40a9b902d7eff9d06ad92cd521" id="r_acf6cba40a9b902d7eff9d06ad92cd521"><td class="memItemLeft" align="right" valign="top">long *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acf6cba40a9b902d7eff9d06ad92cd521">CastToLongInt</a> (const int intArray[8]) const</td></tr>
<tr class="memdesc:acf6cba40a9b902d7eff9d06ad92cd521"><td class="mdescLeft">&#160;</td><td class="mdescRight">Casts an array of integers to an array of long integers.  <br /></td></tr>
<tr class="separator:acf6cba40a9b902d7eff9d06ad92cd521"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad42faa73d686759d71bc2d3a4728332b" id="r_ad42faa73d686759d71bc2d3a4728332b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad42faa73d686759d71bc2d3a4728332b">ComputeMeanGaussian</a> (const int reading[8]) const</td></tr>
<tr class="memdesc:ad42faa73d686759d71bc2d3a4728332b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lets assume the line detected gives us a discrete gaussian where the probabilities are given by each sensor reading and the values are pre-determined based on each sensor location:  <br /></td></tr>
<tr class="separator:ad42faa73d686759d71bc2d3a4728332b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98a577704509458bf101b62d030744c1" id="r_a98a577704509458bf101b62d030744c1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a98a577704509458bf101b62d030744c1">GetMaxValueAndIndex</a> (const int array[8], int &amp;maxValue, int &amp;maxValueIndex) const</td></tr>
<tr class="memdesc:a98a577704509458bf101b62d030744c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the max value and its corresponding index from a list.  <br /></td></tr>
<tr class="separator:a98a577704509458bf101b62d030744c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8853928eb3eb21b1a88fee7b88f0f53f" id="r_a8853928eb3eb21b1a88fee7b88f0f53f"><td class="memItemLeft" align="right" valign="top">int *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8853928eb3eb21b1a88fee7b88f0f53f">Prune</a> (int readings[8]) const</td></tr>
<tr class="memdesc:a8853928eb3eb21b1a88fee7b88f0f53f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deals with edge cases such when the max readings is on one of the sensors at the extremety. In such cases it bumps up the value of the sensor to be at the threshold level.  <br /></td></tr>
<tr class="separator:a8853928eb3eb21b1a88fee7b88f0f53f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7fd1a0899f255d783c69797450374b7c" id="r_a7fd1a0899f255d783c69797450374b7c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_config.html">Config</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7fd1a0899f255d783c69797450374b7c">GetConfig</a> () const</td></tr>
<tr class="memdesc:a7fd1a0899f255d783c69797450374b7c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the <a class="el" href="class_config.html">Config</a> object.  <br /></td></tr>
<tr class="separator:a7fd1a0899f255d783c69797450374b7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a8646ffe114063760e7d33c46f2119f6b" id="r_a8646ffe114063760e7d33c46f2119f6b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8646ffe114063760e7d33c46f2119f6b">_cfgLoaded</a> = false</td></tr>
<tr class="separator:a8646ffe114063760e7d33c46f2119f6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d4f4b6a173ebd82445948ddd02438fe" id="r_a1d4f4b6a173ebd82445948ddd02438fe"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1d4f4b6a173ebd82445948ddd02438fe">_previousLineValue</a> = 0</td></tr>
<tr class="separator:a1d4f4b6a173ebd82445948ddd02438fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06b26d7ac645121a68ff3fa3c1171fc9" id="r_a06b26d7ac645121a68ff3fa3c1171fc9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_config.html">Config</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a06b26d7ac645121a68ff3fa3c1171fc9">_config</a> = <a class="el" href="class_config.html">Config</a>()</td></tr>
<tr class="separator:a06b26d7ac645121a68ff3fa3c1171fc9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2f37aef4a74858c240fe691b8ce9c7c" id="r_ac2f37aef4a74858c240fe691b8ce9c7c"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac2f37aef4a74858c240fe691b8ce9c7c">_scalingFactor</a> [8]</td></tr>
<tr class="separator:ac2f37aef4a74858c240fe691b8ce9c7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Line detector class</p>
<p>It assumes that the array of sensors of a sensor peripheral are arranged in a straight line and equally spaced. Converts line sensor readings into a relative line position on the sensor. It provides methods to compute the location of the line relative to the device. It outputs values in a range [-100, 100] where 0 (zero) corresponds to the centre of the sensor peripheral. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a39b34cdd80ad5d706b276bdf0b50c744" name="a39b34cdd80ad5d706b276bdf0b50c744"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39b34cdd80ad5d706b276bdf0b50c744">&#9670;&#160;</a></span>LineDetector()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LineDetector::LineDetector </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a174bc6de6d72526639c6d9d13a693cf6" name="a174bc6de6d72526639c6d9d13a693cf6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a174bc6de6d72526639c6d9d13a693cf6">&#9670;&#160;</a></span>CalculateFactor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float LineDetector::CalculateFactor </td>
          <td>(</td>
          <td class="paramtype">const int</td>          <td class="paramname"><span class="paramname"><em>ref</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int</td>          <td class="paramname"><span class="paramname"><em>min</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int</td>          <td class="paramname"><span class="paramname"><em>max</em></span>&#160;) const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Calculates the scaling factor given a reference value and a range defined by min and max values This scaling factor is useful in normalising values. </p>
<dl class="section return"><dt>Returns</dt><dd>float scaling factor </dd></dl>

</div>
</div>
<a id="ac367b704276b9a53d1812b2a5fbc93b4" name="ac367b704276b9a53d1812b2a5fbc93b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac367b704276b9a53d1812b2a5fbc93b4">&#9670;&#160;</a></span>CalculateScalingFactors()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void LineDetector::CalculateScalingFactors </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Calculates and stores the scaling factors (in _scalingFactors) </p>

</div>
</div>
<a id="a681c17fc737528ff65690683f92ead12" name="a681c17fc737528ff65690683f92ead12"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a681c17fc737528ff65690683f92ead12">&#9670;&#160;</a></span>CapValue()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int LineDetector::CapValue </td>
          <td>(</td>
          <td class="paramtype">const int</td>          <td class="paramname"><span class="paramname"><em>value</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int</td>          <td class="paramname"><span class="paramname"><em>lowerLimit</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int</td>          <td class="paramname"><span class="paramname"><em>upperLimit</em></span>&#160;) const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Caps the value to lower and upper limits. </p>
<dl class="section return"><dt>Returns</dt><dd>capped value </dd></dl>

</div>
</div>
<a id="acf6cba40a9b902d7eff9d06ad92cd521" name="acf6cba40a9b902d7eff9d06ad92cd521"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf6cba40a9b902d7eff9d06ad92cd521">&#9670;&#160;</a></span>CastToLongInt()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">long * LineDetector::CastToLongInt </td>
          <td>(</td>
          <td class="paramtype">const int</td>          <td class="paramname"><span class="paramname"><em>intArray</em></span>[8]</td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Casts an array of integers to an array of long integers. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">intArray</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>long* </dd></dl>

</div>
</div>
<a id="a7f6ea080180b793ae9ac6ccedb7365dd" name="a7f6ea080180b793ae9ac6ccedb7365dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f6ea080180b793ae9ac6ccedb7365dd">&#9670;&#160;</a></span>ComputeLine()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int LineDetector::ComputeLine </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>readings</em></span>[8]</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Given an input as a set of sensors readings it computes a relative location of a line along the length of the sensor and expresses the output in a range [-100, 100] where 0 (zero) corresponds to the line being at the centre of the sensor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">readings</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int </dd></dl>

</div>
</div>
<a id="a8d530960d9251cd12fffc79b4bd2fa5d" name="a8d530960d9251cd12fffc79b4bd2fa5d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d530960d9251cd12fffc79b4bd2fa5d">&#9670;&#160;</a></span>ComputeLineValue()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int LineDetector::ComputeLineValue </td>
          <td>(</td>
          <td class="paramtype">const int</td>          <td class="paramname"><span class="paramname"><em>readings</em></span>[8]</td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Computes a line value in the range [0, ref_max]. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">readings</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int </dd></dl>

</div>
</div>
<a id="ad42faa73d686759d71bc2d3a4728332b" name="ad42faa73d686759d71bc2d3a4728332b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad42faa73d686759d71bc2d3a4728332b">&#9670;&#160;</a></span>ComputeMeanGaussian()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int LineDetector::ComputeMeanGaussian </td>
          <td>(</td>
          <td class="paramtype">const int</td>          <td class="paramname"><span class="paramname"><em>reading</em></span>[8]</td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Lets assume the line detected gives us a discrete gaussian where the probabilities are given by each sensor reading and the values are pre-determined based on each sensor location: </p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">sensor id   </th><th class="markdownTableHeadNone">value   </th><th class="markdownTableHeadNone">probability    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">0   </td><td class="markdownTableBodyNone">1   </td><td class="markdownTableBodyNone">reading[0]    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">1   </td><td class="markdownTableBodyNone">2   </td><td class="markdownTableBodyNone">reading[1]    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">(...)   </td><td class="markdownTableBodyNone">(...)   </td><td class="markdownTableBodyNone">(...)    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">7   </td><td class="markdownTableBodyNone">8   </td><td class="markdownTableBodyNone">reading[7]   </td></tr>
</table>
<p>We can compute the mean of the gaussian (location of line) by: 1) computing the product for each sensor: product = value * probability 2) computing sumProducts = product[0] + product[1] + ... + product[7] 3) computing sum_probabilities = reading[0] + reading[1] + ... + reading[7] 4) computing mean = sumProducts / sum_probabilities</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">readings</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int </dd></dl>

</div>
</div>
<a id="a349923b55f7f56b7213b06fb9d728cdc" name="a349923b55f7f56b7213b06fb9d728cdc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a349923b55f7f56b7213b06fb9d728cdc">&#9670;&#160;</a></span>ConvertRange()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int LineDetector::ConvertRange </td>
          <td>(</td>
          <td class="paramtype">const int</td>          <td class="paramname"><span class="paramname"><em>xValue</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int</td>          <td class="paramname"><span class="paramname"><em>xMin</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int</td>          <td class="paramname"><span class="paramname"><em>xMax</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int</td>          <td class="paramname"><span class="paramname"><em>yMin</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int</td>          <td class="paramname"><span class="paramname"><em>yMax</em></span>&#160;) const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Converts a value x given in the range [xMin : xMax] to a new value in the range [yMin : yMax]. </p>
<dl class="section return"><dt>Returns</dt><dd>value converted to the new range </dd></dl>

</div>
</div>
<a id="a8afa1971a787fd196678c0705defee72" name="a8afa1971a787fd196678c0705defee72"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8afa1971a787fd196678c0705defee72">&#9670;&#160;</a></span>FilterLineValue()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int LineDetector::FilterLineValue </td>
          <td>(</td>
          <td class="paramtype">const int</td>          <td class="paramname"><span class="paramname"><em>lineValue_in</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int</td>          <td class="paramname"><span class="paramname"><em>refValue</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int</td>          <td class="paramname"><span class="paramname"><em>maxValue</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Filters the line value to handle edge cases such as no line detected or reading errors. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lineValue</td><td>the computed line value </td></tr>
    <tr><td class="paramname">refValue</td><td>the reference value to help determining which side is the line in case it's no longer detected (e.g. middle of the range) </td></tr>
    <tr><td class="paramname">maxValue</td><td>the maximum value of the range </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int </dd></dl>

</div>
</div>
<a id="a7fd1a0899f255d783c69797450374b7c" name="a7fd1a0899f255d783c69797450374b7c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7fd1a0899f255d783c69797450374b7c">&#9670;&#160;</a></span>GetConfig()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_config.html">Config</a> LineDetector::GetConfig </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the <a class="el" href="class_config.html">Config</a> object. </p>

</div>
</div>
<a id="ad490812b0ab71af6e039081fff3a512b" name="ad490812b0ab71af6e039081fff3a512b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad490812b0ab71af6e039081fff3a512b">&#9670;&#160;</a></span>GetMaxFromArray()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int LineDetector::GetMaxFromArray </td>
          <td>(</td>
          <td class="paramtype">const int</td>          <td class="paramname"><span class="paramname"><em>inputArray</em></span>[8]</td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the Max From Array. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">inputArray</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int </dd></dl>

</div>
</div>
<a id="a98a577704509458bf101b62d030744c1" name="a98a577704509458bf101b62d030744c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98a577704509458bf101b62d030744c1">&#9670;&#160;</a></span>GetMaxValueAndIndex()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void LineDetector::GetMaxValueAndIndex </td>
          <td>(</td>
          <td class="paramtype">const int</td>          <td class="paramname"><span class="paramname"><em>array</em></span>[8], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;</td>          <td class="paramname"><span class="paramname"><em>maxValue</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;</td>          <td class="paramname"><span class="paramname"><em>maxValueIndex</em></span>&#160;) const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the max value and its corresponding index from a list. </p>
<dl class="section return"><dt>Returns</dt><dd>def </dd></dl>

</div>
</div>
<a id="aecedf6cd2b88c1da2d94595cab1ea22b" name="aecedf6cd2b88c1da2d94595cab1ea22b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aecedf6cd2b88c1da2d94595cab1ea22b">&#9670;&#160;</a></span>LoadConfig()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void LineDetector::LoadConfig </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Loads values from config and calculates the corresponding scaling factors. </p>

</div>
</div>
<a id="ac576a77b66a3d994673c31ee856514c1" name="ac576a77b66a3d994673c31ee856514c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac576a77b66a3d994673c31ee856514c1">&#9670;&#160;</a></span>LoadIfNecessary()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void LineDetector::LoadIfNecessary </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Loads values from config if NOT loaded before. </p>

</div>
</div>
<a id="aa3fef0ae396112d2d2e567734cf8ab1a" name="aa3fef0ae396112d2d2e567734cf8ab1a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3fef0ae396112d2d2e567734cf8ab1a">&#9670;&#160;</a></span>Normalise()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int LineDetector::Normalise </td>
          <td>(</td>
          <td class="paramtype">const int</td>          <td class="paramname"><span class="paramname"><em>reading</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int</td>          <td class="paramname"><span class="paramname"><em>minimum</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float</td>          <td class="paramname"><span class="paramname"><em>scale</em></span>&#160;) const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>normalise a reading taking the minimum value of the range and a scale factor </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">reading</td><td>a sensor readings </td></tr>
    <tr><td class="paramname">minimum</td><td>the minimum value of sensor reading </td></tr>
    <tr><td class="paramname">scale</td><td>scaling factor </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>normalised value </dd></dl>

</div>
</div>
<a id="afb948ea2f7042dfaaf50d7cb804f37d5" name="afb948ea2f7042dfaaf50d7cb804f37d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb948ea2f7042dfaaf50d7cb804f37d5">&#9670;&#160;</a></span>NormaliseLineValue()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int LineDetector::NormaliseLineValue </td>
          <td>(</td>
          <td class="paramtype">const int</td>          <td class="paramname"><span class="paramname"><em>lineValue</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int</td>          <td class="paramname"><span class="paramname"><em>size</em></span>&#160;) const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Converts a line value in the range of [0, 8000] to a new range e.g. [-106, 106] This method involves two steps: 1) Converting the value in the range of [0, 8000] to a new range using a correction factor e.g. for a correction factor of 6% the new range is [-106, 106] The new range extends beyond 100 by a little margin specified by the correction factor in the config. The purpose of this is to enable adjusting the sensitivity of the readings near the extremities. For a sensor that is typically higher (away from the floor) this correction factor should be higher to prevent large jumps in the readings close to the extremities. By increasing the correction factor we are narrowing the sensitivity of the sensors and by reducing it we are extending the sensitivity out. There is a balance to achieve by tuning this value correctly in order to get the best of both worlds: </p>
<ul>
<li>Smooth transitions in sensor value near the extremeties</li>
<li>Maximum sensitivity region of the sensor 2) Capping the values to the desired range [-100, 100]</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lineValue</td><td>input line value </td></tr>
    <tr><td class="paramname">size</td><td>size of sensor readings </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int normalised line value </dd></dl>

</div>
</div>
<a id="affe740a6e3814d983094d42b0c689e88" name="affe740a6e3814d983094d42b0c689e88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#affe740a6e3814d983094d42b0c689e88">&#9670;&#160;</a></span>NormaliseReadings()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int * LineDetector::NormaliseReadings </td>
          <td>(</td>
          <td class="paramtype">const int</td>          <td class="paramname"><span class="paramname"><em>sensorReading</em></span>[8]</td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Normalize values for each sensor reading. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sensor_reading</td><td>array containing sensor readings </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>array </dd></dl>

</div>
</div>
<a id="a8853928eb3eb21b1a88fee7b88f0f53f" name="a8853928eb3eb21b1a88fee7b88f0f53f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8853928eb3eb21b1a88fee7b88f0f53f">&#9670;&#160;</a></span>Prune()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int * LineDetector::Prune </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>readings</em></span>[8]</td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Deals with edge cases such when the max readings is on one of the sensors at the extremety. In such cases it bumps up the value of the sensor to be at the threshold level. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">readings</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="acd690650f7c91bec033b43e8910c8119" name="acd690650f7c91bec033b43e8910c8119"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd690650f7c91bec033b43e8910c8119">&#9670;&#160;</a></span>SetConfig()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void LineDetector::SetConfig </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_config.html">Config</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>configIn</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the config by providing it as input. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">configIn</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a016d14edf3b8a513c6e3b976ba2f54da" name="a016d14edf3b8a513c6e3b976ba2f54da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a016d14edf3b8a513c6e3b976ba2f54da">&#9670;&#160;</a></span>Sum()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">long int LineDetector::Sum </td>
          <td>(</td>
          <td class="paramtype">const long int</td>          <td class="paramname"><span class="paramname"><em>reading</em></span>[8]</td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Computes the sum of all the values in the input array. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">reading</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>long int </dd></dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a8646ffe114063760e7d33c46f2119f6b" name="a8646ffe114063760e7d33c46f2119f6b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8646ffe114063760e7d33c46f2119f6b">&#9670;&#160;</a></span>_cfgLoaded</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool LineDetector::_cfgLoaded = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a06b26d7ac645121a68ff3fa3c1171fc9" name="a06b26d7ac645121a68ff3fa3c1171fc9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06b26d7ac645121a68ff3fa3c1171fc9">&#9670;&#160;</a></span>_config</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_config.html">Config</a> LineDetector::_config = <a class="el" href="class_config.html">Config</a>()</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a1d4f4b6a173ebd82445948ddd02438fe" name="a1d4f4b6a173ebd82445948ddd02438fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d4f4b6a173ebd82445948ddd02438fe">&#9670;&#160;</a></span>_previousLineValue</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int LineDetector::_previousLineValue = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ac2f37aef4a74858c240fe691b8ce9c7c" name="ac2f37aef4a74858c240fe691b8ce9c7c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2f37aef4a74858c240fe691b8ce9c7c">&#9670;&#160;</a></span>_scalingFactor</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float LineDetector::_scalingFactor[8]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/utility/<a class="el" href="_line_detector_8h_source.html">LineDetector.h</a></li>
<li>src/utility/<a class="el" href="_line_detector_8cpp.html">LineDetector.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="class_line_detector.html">LineDetector</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
